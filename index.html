<!DOCTYPE html>

<html lang="ja-JP" dir="ltr">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="version" content="">
    <meta name="geo.country" content="JP">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="twitter:description" content="" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="" />
    <meta property="og:title" content="" />
    <meta property="og:image" content="" />
    <meta property="og:url" content="" />
    <meta property="og:description" content="" />
    <meta property="og:site_name" content="" />
    <meta name="robots" content="index,follow">



    <title>勉強会第3回</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">

</head>

<body>

    <div id="app">
        <div class="jumbotron">
           <div class="container">
              <h2>絵馬を書く</h2>
              <p>皆さんの今年の願い、目標を投稿してください。
                BP神が叶えてくれるかも...</p>
                <p>絵馬デザイン選択</p>
                <ul class="row">
                    <li class="col-md-2">
                        <button value="theme01" @click="clickGetText">
                            テーマ０１
                            <p><img src="/img/sampl.jpg" alt=""></p>
                        </button>
                    </li>
                    <li class="col-md-2">
                        <button value="theme02" @click="clickGetText">
                            テーマ０２
                            <p><img src="/img/samp02.jpeg" alt=""></p>
                        </button>
                        
                    </li>
                    <li class="col-md-2">
                        <button value="theme03" @click="clickGetText">
                            テーマ０３
                            <p><img src="/img/samp03.jpeg" alt=""></p>
                        </button>
                    </li>
                    <li class="col-md-2">
                        <button value="theme04" @click="clickGetText">
                            テーマ０４
                            <p><img src="/img/sampl.jpg" alt=""></p>
                        </button>
                    </li>
                    <li class="col-md-2">
                        <button value="theme05" @click="clickGetText">
                            テーマ０５
                            <p><img src="/img/samp03.jpeg" alt=""></p>
                        </button>
                    </li>
                    <li class="col-md-2">
                        <button value="theme06" @click="clickGetText">
                            テーマ０6
                            <p><img src="/img/samp02.jpeg" alt=""></p>
                        </button>
                    </li>
                </ul>
              <form @submit.prevent="addPlaylist">
                  <div class="contentBig">
                    <div class="img-show">
                        <img src="/img/sampl.jpg" alt="">
                        <div class="form-group">
                            <label for="areaText">入力</label>
                            <input type="text" class="form-control" id="areaText" v-model="areaText">
                         </div>
                    </div>
                    <p class="URLinput" id="url" v-bind="url">fafaf</p>
                  </div>
                 <div class="row">
                    <div class="col-md-3">
                       <div class="form-group">
                          <input type="submit" class="form-control btn btn-primary btn-md" id="submit"> 
                       </div>
                    </div>
                 </div>
              </form>

              <form id="upload-form">
                <input type="file" name="file" required />
                <input type="submit" value="Upload" />
            </form>
           </div>
        </div>
     </div>
    

    <style>
        .modal-dialog {
            max-width: 900px;
        }
        .contentBig {
            max-width: 500px;
            margin: auto;
        }
        ul li {
            list-style: none;
        }

        img {
            width: 100%;
            max-width: 100%;
        }
    </style>
    <!-- data -->
    <script>

  </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>
    <script src="/js/vue.lgobal.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script type="module">
            
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.3/firebase-app.js";
        import { getDatabase, ref as dbRef, push, set } from "https://www.gstatic.com/firebasejs/9.8.3/firebase-database.js"
        import { getStorage, ref as stRef, uploadBytes } from "https://www.gstatic.com/firebasejs/9.8.3/firebase-storage.js"
        
        const firebaseConfig = {
          apiKey: "AIzaSyD_dR2JTiUyNMWAwz7GrujiLsYGf5Vc9JE",
          authDomain: "card2023-test.firebaseapp.com",
          databaseURL: "https://card2023-test-default-rtdb.firebaseio.com",
          projectId: "card2023-test",
          storageBucket: "card2023-test.appspot.com",
          messagingSenderId: "445231659052",
          appId: "1:445231659052:web:887a40fc67c8602d773989",
          measurementId: "G-XFLG8MPS4G"
        };
      
       // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        
        // Get a reference to the storage service, which is used to create references in your storage bucket
        const storage = getStorage(app);
        
        const database = getDatabase();
        const databaseReference = dbRef(database, "files");

        window.addEventListener("load", function () {
            document.getElementById("upload-form").addEventListener("submit", function () {
                event.preventDefault();
                var form = event.target;
    
                var file = form.file.files[0];

                const storageRef = stRef(storage, "files/" + file.name);
 
                uploadBytes(storageRef, file).then(function (snapshot) {
                    var newFileRef = push(databaseReference);
                
                    set(newFileRef, {
                        "name": file.name
                    });
                });
            });
        });

        



      </script>
    <script src="/js/data.js" defer="defer"></script>
</body>

</html>
